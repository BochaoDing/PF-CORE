<folder>
	<name>$velocityTools.replaceAnd($folder.getName())</name>
	<id>$folder.getId()</id>
	<link>$folder.getInvitation().toPowerFolderLink()</link>
	<isSecret>$folder.isSecret()</isSecret>
	<isSynchronizing>$folder.isSynchronizing()</isSynchronizing>
	<syncProfileID>$folder.getSyncProfile().getId()</syncProfileID>
	<members>
		#foreach ($member in $folder.getConnectedMembers())
			<member>
			<id>$member.getId()</id>
			<nick>$velocityTools.replaceAnd($member.getNick())</nick>
			</member>
		#end
	</members>
	<files>
		<location>$velocityTools.replaceAnd($directory.getPath())</location>
		<locationElement>
				<name>$folder.getName()</name>
				<path>/</path>
		</locationElement>
		
		#foreach ($dir2 in $directory.getDirectoryPath()) 
			<locationElement>
				<name>$dir2.getName()</name>
				<path>$dir2.getPath()</path>
			</locationElement>
		#end
		<header>
			<name>$velocityTools.translate("filelist.name")</name>
			<size>$velocityTools.translate("general.size")</size>
			<modifiedDate>$velocityTools.translate("fileinfo.modifieddate")</modifiedDate>
		</header>
		#foreach ($directory in $directory.listSubDirectories())
			<directory>
				<name>$velocityTools.replaceAnd($directory.getName())</name>
				<path>$velocityTools.replaceAnd($directory.getPath())</path>				
				<isDeleted>$directory.isDeleted()</isDeleted>
				<isExpected>$directory.isExpected($folderRepository)</isExpected>
			</directory>
		#end
		
		#foreach ($fileInfo in $directory.getValidFiles())				
			<file>
				<size>$fileInfo.getSize()</size>
				<sizeFormatted>$velocityTools.formatBytesShort($fileInfo.getSize())</sizeFormatted>
				<name>$velocityTools.replaceAnd($fileInfo.getFilenameOnly())</name>
				<fullPathAndName>$velocityTools.replaceAnd($fileInfo.getName())</fullPathAndName>
				<locationInFolder>$velocityTools.replaceAnd($fileInfo.getLocationInFolder())</locationInFolder>				
				<extension>$fileInfo.getExtension()</extension>				
				<modifiedDateFormatted>$velocityTools.formatDate($fileInfo.getModifiedDate())</modifiedDateFormatted>
				<modifiedDateMillis>$fileInfo.getModifiedDate().getTime()</modifiedDateMillis>
				<isDeleted>$fileInfo.isDeleted()</isDeleted>
				<isExpected>$fileInfo.isExpected($folderRepository)</isExpected>
				<isDownloading>$fileInfo.isDownloading($controller)</isDownloading>
				<isUploading>$fileInfo.isUploading($controller)</isUploading>
				<isNewerAvailable>$fileInfo.isNewerAvailable($folderRepository)</isNewerAvailable>
				<diskFileExists>$fileInfo.diskFileExists($controller)"</diskFileExists>
			</file>
		#end
	</files>
</folder>